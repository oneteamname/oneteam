/**
 * like-dislike v1.0.2
 *
 * jQuery rating plugin, https://github.com/uagrace/like-dislike
 *
 * Copyright 2016, Maxim Tkachuk, mxtkachuk@gmail.com
 *
 * Licensed under the MIT license
 */
!function(l){var s="like",t="dislike",i={init:function(e){this.opts=l.extend(!0,{},l.fn.likeDislike.defaults,e);var n=this.opts;if(this.btns=l(this).find("."+n.likeBtnClass+", ."+n.dislikeBtnClass),this.readOnly=i.readOnly,this.readOnly(n.readOnly),0!==n.initialValue){var a=1===n.initialValue?s:t;i._btnDown.call(this,a)}return this},readOnly:function(l){var s=this.opts,t=this.btns;if(l)i._off.call(this,t);else{if(!s.reverseMode){var e=t.not("."+s.activeClass);e.length&&(t=e)}i._on.call(this,t)}},_btnDown:function(l){var s=i._getBtnByType.call(this,l);s.addClass(this.opts.activeClass),this.opts.reverseMode||i._off.call(this,s)},_btnUp:function(l){var s=i._getBtnByType.call(this,l);this.opts.reverseMode||i._on.call(this,s),s.removeClass(this.opts.activeClass)},_getBtnByType:function(i){return i===s?l(this).find("."+this.opts.likeBtnClass):i===t?l(this).find("."+this.opts.dislikeBtnClass):void l.error("Wrong button type: "+i)},_on:function(e){var n=this,a=n.opts;e.removeClass(a.disabledClass),a.beforeClick&&e.on("beforeClick",function(l){return a.beforeClick.call(n,l)}),e.on("click",function(e){var o=l(this);if(a.beforeClick&&!o.triggerHandler("beforeClick"))return!1;var r=o.hasClass(a.likeBtnClass)?s:t,c=n.btns.hasClass(a.activeClass),d=o.hasClass(a.activeClass),f=0;a.reverseMode?r===s?d?i._btnUp.call(n,s):(i._btnUp.call(n,t),i._btnDown.call(n,s),f=1):d?i._btnUp.call(n,t):(i._btnUp.call(n,s),i._btnDown.call(n,t),f=-1):r===s?c?(i._btnUp.call(n,t),i._btnDown.call(n,s),d||(f=1)):(i._btnDown.call(n,s),f=1):c?(i._btnUp.call(n,s),i._btnDown.call(n,t),d||(f=-1)):(i._btnDown.call(n,t),f=-1),a.click.call(n,f,r,e)})},_off:function(l){l.addClass(this.opts.disabledClass),l.off()}};l.fn.likeDislike=function(s){return i[s]?i[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof s&&s?void l.error("Method "+s+" does not exist!"):i.init.apply(this,arguments)},l.fn.likeDislike.defaults={click:null,beforeClick:null,initialValue:0,readOnly:!1,reverseMode:!0,likeBtnClass:"like",dislikeBtnClass:"dislike",activeClass:"active",disabledClass:"disabled"}}(jQuery);